#summary Mission events
#labels Featured

= Mission events =

Using simple syntax events can be added to custom missions. The events are stored in `\Maps\map_name\map_name.evt` file, which can be opened by any text editor (e.g. Notepad).

Each line is an event. First comes Trigger (what sets event off) with player index and parameters, then comes Action (what will happen) with player index and parameters as well. Unless specially noted, events fire only once and then are deleted.

`HOUSE_BUILT 0 5 SHOW_MESSAGE 0 17`

Above line means that when Player0 has built house type 5 Player0 (himself) will receive a message #17.

Comments and empty lines are allowed, preceding with `//` mark.


==Available triggers==

|| Trigger || Description || Parameter 1 || Parameter 2 ||
|| *DEFEATED* || Occurs when certain player has been defeated. Defeat conditions are checked separately by Player AI || - || - ||
|| *HOUSE_BUILT* || Occurs when player has built the specified house type || 1. House type index || - ||
|| *TIME* || Occurs when specified time has come || 1. Time value in game ticks (100ms by default) || - ||
|| _UNIT_COUNT_ || Player has specified count of alive citizens || 1. Unit type || 2. Count ||
|| _WARES_COUNT_ || Player has total of specified amount of wares || 1. Ware type || 2. Count ||

`*`triggers typed in _italic_ are not yet implemented

==Available actions==

|| Action || Description || Parameter 1 || Parameter 2 || Parameter 3 ||
|| _ALLIANCE_CHANGE_ || Change the alliance setting between specified players || 1. Target player index || - || - ||
|| _ATTACK_ || Issue attack order to AI || 1. AI player index || 2. Target player index || 3. Other attack parameters ... ? ||
|| *DELAYED_MESSAGE* || Displays a message with after specified delay || 1. Delay amount in game ticks || 2. Message index || - ||
|| _GIVE_WARES_ || Adds amount of ware to players Store || 1. Ware type || 2. Count || - ||
|| *SHOW_MESSAGE* || Displays a message immediately || 1. Message index || - || - ||
|| _UNLOCK_HOUSE_ || Allow player to build specified type of house || 1. House type || - || - ||
|| *VICTORY* || Proclaims victory to the player || - || - || - ||

`*`actions typed in _italic_ are not yet implemented

==Examples==

TIME -1 600 SHOW_MESSAGE 0 1 //After 1 minute show text message #1 to Player0

DEFEATED 1 DELAYED_MESSAGE 0 50 2 //After Player1 gets defeated wait 5sec and show message #2 to Player0